{"ast":null,"code":"let titleAnimationRunning = false;\nlet globalTitleOpacity = 1;\nconst animationStartScrollHeight = 300;\n\nconst disappearAnimation = (elementId, reverseY = false) => {\n  const scroll = window.scrollY;\n\n  const getScrollRight = state => {\n    console.log(elementId + \": \" + state + \", \" + reverseY);\n\n    if (state === \"down\" && !reverseY || state === \"up\" && reverseY) {\n      if (reverseY) {\n        console.log(\"reversed\");\n      }\n\n      return window.scrollY >= animationStartScrollHeight;\n    } else {\n      return window.scrollY < animationStartScrollHeight;\n    }\n  };\n\n  const isAnimationFinished = (state, opacity) => {\n    if (\"down\" === state) {\n      return opacity <= 0;\n    } else {\n      return opacity >= 1;\n    }\n  };\n\n  let scrollType;\n  let doesntAnimationNeedStart;\n  let startOpacity;\n  let stopOpacity;\n  let opacityOperator;\n\n  if (scroll >= animationStartScrollHeight) {\n    scrollType = \"down\";\n    doesntAnimationNeedStart = globalTitleOpacity === 0;\n    startOpacity = 1.0;\n    stopOpacity = \"0\";\n    opacityOperator = -0.01;\n  } else {\n    scrollType = \"up\";\n    doesntAnimationNeedStart = globalTitleOpacity === 1;\n    startOpacity = 0;\n    stopOpacity = \"1\";\n    opacityOperator = 0.01;\n  }\n\n  let title = document.getElementById(elementId);\n\n  if (!titleAnimationRunning) {\n    if (doesntAnimationNeedStart) {\n      return;\n    }\n\n    let opacity = startOpacity;\n\n    const frame = () => {\n      if (getScrollRight(scrollType)) {\n        if (isAnimationFinished(scrollType, opacity)) {\n          title.style.opacity = stopOpacity;\n          titleAnimationRunning = false;\n          globalTitleOpacity = parseInt(stopOpacity);\n          clearInterval(id);\n        } else {\n          opacity += opacityOperator;\n          title.style.opacity = opacity;\n        }\n      } else {\n        title.style.opacity = stopOpacity;\n        titleAnimationRunning = false;\n        globalTitleOpacity = stopOpacity;\n        clearInterval(id);\n      }\n    };\n\n    titleAnimationRunning = true;\n    const id = setInterval(frame, 10);\n  }\n};\n\nconst topButtonControl = () => {\n  const scroll = window.scrollY;\n  const toTopButton = document.getElementById(\"2top\");\n\n  if (scroll >= animationStartScrollHeight) {\n    toTopButton.style.display = \"block\";\n  } else {\n    toTopButton.style.display = \"none\";\n  }\n};\n\nwindow.onscroll = () => {\n  disappearAnimation(\"title\");\n  topButtonControl();\n  disappearAnimation(\"2top\", true);\n};","map":{"version":3,"sources":["/mnt/38a90096-bca6-47f2-b23a-3885f42bfa67/Desktop/Coding/HTML/inf-website/master/src/script.js"],"names":["titleAnimationRunning","globalTitleOpacity","animationStartScrollHeight","disappearAnimation","elementId","reverseY","scroll","window","scrollY","getScrollRight","state","console","log","isAnimationFinished","opacity","scrollType","doesntAnimationNeedStart","startOpacity","stopOpacity","opacityOperator","title","document","getElementById","frame","style","parseInt","clearInterval","id","setInterval","topButtonControl","toTopButton","display","onscroll"],"mappings":"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","sourcesContent":["let titleAnimationRunning = false;\nlet globalTitleOpacity = 1;\nconst animationStartScrollHeight = 300;\n\n\nconst disappearAnimation = ( elementId: String, reverseY: Boolean = false ) => {\n    const scroll = window.scrollY;\n\n    const getScrollRight = ( state ) => {\n        console.log(elementId + \": \" + state + \", \" + reverseY)\n        if ((state === \"down\" && !reverseY) || (state === \"up\" && reverseY)) {\n            if (reverseY) {\n                console.log(\"reversed\")\n            }\n\n            return window.scrollY >= animationStartScrollHeight;\n        } else {\n            return window.scrollY < animationStartScrollHeight;\n        }\n    }\n\n    const isAnimationFinished = (state, opacity ) => {\n        if (\"down\" === state) {\n            return opacity <= 0;\n        } else {\n            return opacity >= 1;\n        }\n    }\n\n    let scrollType;\n    let doesntAnimationNeedStart;\n    let startOpacity;\n    let stopOpacity;\n    let opacityOperator;\n\n    if (scroll >= animationStartScrollHeight) {\n        scrollType = \"down\";\n        doesntAnimationNeedStart = globalTitleOpacity === 0;\n        startOpacity = 1.0;\n        stopOpacity = \"0\";\n        opacityOperator = -0.01;\n    }\n    else {\n        scrollType = \"up\";\n        doesntAnimationNeedStart = globalTitleOpacity === 1;\n        startOpacity = 0;\n        stopOpacity = \"1\";\n        opacityOperator = 0.01;\n    }\n\n    let title = document.getElementById(elementId);\n\n    if (!titleAnimationRunning) {\n        if (doesntAnimationNeedStart) { return }\n        let opacity = startOpacity;\n\n        const frame = () => {\n            if (getScrollRight(scrollType)) {\n                if (isAnimationFinished(scrollType, opacity)) {\n                    title.style.opacity = stopOpacity;\n                    titleAnimationRunning = false;\n                    globalTitleOpacity = parseInt(stopOpacity);\n                    clearInterval(id);\n                } else {\n                    opacity += opacityOperator;\n                    title.style.opacity = opacity;\n                }\n            } else {\n                title.style.opacity = stopOpacity;\n                titleAnimationRunning = false;\n                globalTitleOpacity = stopOpacity;\n                clearInterval(id);\n            }\n        }\n\n        titleAnimationRunning = true;\n        const id = setInterval(frame, 10);\n    }\n}\n\n\nconst topButtonControl = () => {\n    const scroll = window.scrollY;\n    const toTopButton = document.getElementById(\"2top\")\n\n    if (scroll >= animationStartScrollHeight) {\n        toTopButton.style.display = \"block\";\n    } else {\n        toTopButton.style.display = \"none\"\n    }\n}\n\n\nwindow.onscroll = () => {\n    disappearAnimation(\"title\");\n    topButtonControl();\n    disappearAnimation(\"2top\", true);\n}\n"]},"metadata":{},"sourceType":"module"}